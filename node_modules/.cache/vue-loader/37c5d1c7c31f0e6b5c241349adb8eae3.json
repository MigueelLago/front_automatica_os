{"remainingRequest":"/Users/migueellago/Projetos/automatic-os/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/migueellago/Projetos/automatic-os/src/pages/home/HomeComponent.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/migueellago/Projetos/automatic-os/src/pages/home/HomeComponent.vue","mtime":1608392990000},{"path":"/Users/migueellago/Projetos/automatic-os/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/migueellago/Projetos/automatic-os/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/migueellago/Projetos/automatic-os/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/migueellago/Projetos/automatic-os/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBBcGkgZnJvbSAnLi4vLi4vc2VydmljZXMvYXBpJwppbXBvcnQgVmNQYWdpbmF0aW9uIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvUGFnaW5hdGlvbicKaW1wb3J0IENyZWF0ZU1vZGFsIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvTW9kYWxJbnNlcnQnCmltcG9ydCBNb2RhbFNlcnZpY2VzIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvTW9kYWxTZXJ2aWNlcycKCmV4cG9ydCBkZWZhdWx0ewogIG5hbWU6ICdBcHAnLAoKICBjb21wb25lbnRzOnsKICAgIFZjUGFnaW5hdGlvbiwKICAgIENyZWF0ZU1vZGFsLAogICAgTW9kYWxTZXJ2aWNlcwogIH0sCiAgCiAgZGF0YSgpewogICAgcmV0dXJuIHsKICAgICAgb3JkZXJzU2VydmljZXM6IFtdLAogICAgICBwYWdpbmF0aW9uOiB7fSwKICAgICAgc2hvd01vZGFsOiBmYWxzZSwKICAgICAgc2hvd01vZGFsU2VydmljZTogZmFsc2UsCiAgICAgIGRhdGFTZXJ2aWNlczogW10sCiAgICAgIGluZm9TZXJ2aWNlczogW10KICAgIH0KICB9LAoKICBtZXRob2RzOiB7CiAgICBkZWxldGVJZChpZCl7CiAgICAgIEFwaS5kZWxldGVTZXJ2aWNlKCdodHRwOi8vMTI3LjAuMC4xOjgwMDAvYXBpL3NlcnZpY2VzLycraWQpLnRoZW4oCiAgICAgICAgYWxlcnQoJ09yZGVybSBkZSBTZXJ2acOnbyBkZWxldGFkYSBjb20gU3VjZXNzbyEnKQogICAgICApCiAgICAgIEFwaS5pbmRleCgpLnRoZW4ocmVxID0+IHsKICAgICAgICB0aGlzLm9yZGVyc1NlcnZpY2VzID0gcmVxLmRhdGEuZGF0YQogICAgICAgIHRoaXMucGFnaW5hdGlvbiA9IHJlcS5kYXRhCiAgICAgIH0pCiAgICB9LAoKICAgIGNyZWF0ZU9yZGVyKCl7CiAgICAgIHRoaXMuc2hvd01vZGFsID0gdHJ1ZTsKICAgIH0sCgogICAgZGlzYWJsZWQoKXsKICAgICAgZnVuY3Rpb24gZGlzYWJsZUlucHV0cygpewogICAgICAgIGNvbnN0IGlucHV0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3ZhbGlkYXRlJyk7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbnB1dHMubGVuZ3RoOyBpKyspIHsgCiAgICAgICAgaW5wdXRzW2ldLmRpc2FibGVkID0gdHJ1ZTsKICAgICAgICB9IAogICAgICB9CiAgICAgIHNldFRpbWVvdXQoZGlzYWJsZUlucHV0cywgMTUwMCkKICAgIH0sCgogICAgb3Blbk1vZGFsKGlkKXsKICAgICAgQXBpLmdldElkKCdodHRwOi8vMTI3LjAuMC4xOjgwMDAvYXBpL3NlcnZpY2VzLycraWQpLnRoZW4oIHJlcSA9PnsKICAgICAgICB0aGlzLnNob3dNb2RhbFNlcnZpY2UgPSB0cnVlCiAgICAgICAgdGhpcy5pbmZvU2VydmljZXMgPSByZXEuZGF0YS5kYXRhCiAgICAgIH0pCiAgICB9LAoKICAgIGNsb3NlTW9kYWwoKXsKICAgICAgdGhpcy5zaG93TW9kYWxTZXJ2aWNlID0gZmFsc2UKICAgIH0sCgogICAgb25DaGlsZENsaWNrICgpIHsKICAgICAgdGhpcy5zaG93TW9kYWwgPSBmYWxzZTsKICAgIH0sCgogICAgbmF2aWdhdGUgKHBhZ2UpIHsKICAgICAgQXBpLnBhZ2luYXRlKCdodHRwOi8vMTI3LjAuMC4xOjgwMDAvYXBpL3NlcnZpY2VzP3BhZ2U9JytwYWdlKS50aGVuKCByZXNwID0+IHsKICAgICAgICB0aGlzLm9yZGVyc1NlcnZpY2VzID0gcmVzcC5kYXRhLmRhdGEKICAgICAgICB0aGlzLnBhZ2luYXRpb24gPSByZXNwLmRhdGEKICAgICAgfSkKICAgIH0sCgogICAgbG9nb3V0KCl7CiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd1c2VyLXRva2VuJykKICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnaHR0cDovL2xvY2FsaG9zdDo4MDgwLycKICAgIH0KICB9LAoKICBtb3VudGVkKCl7CiAgICBBcGkuaW5kZXgoKS50aGVuKHJlcSA9PiB7CiAgICAgIHRoaXMub3JkZXJzU2VydmljZXMgPSByZXEuZGF0YS5kYXRhCiAgICAgIHRoaXMucGFnaW5hdGlvbiA9IHJlcS5kYXRhCiAgICB9KQogIH0KCn0K"},{"version":3,"sources":["HomeComponent.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"HomeComponent.vue","sourceRoot":"src/pages/home","sourcesContent":["<template>\n  <div>\n\n    <nav class=\"nav-wrapper blue darken-1\">\n      <div class=\"container\">\n      <div class=\"brand\">\n        <a href=\"#\" class=\"brand-logo left\">Automatic OS</a>\n      </div>\n      <div class=\"actions\">\n        <button class=\"waves-effect btn-small green darken-1\" @click=\"createOrder()\">Criar nova O.S</button>\n        <button class=\"waves-effect btn-small red darken-1\" @click=\"logout()\">Sair</button>\n      </div>\n      </div>\n    </nav>\n\n\n      <table class=\"centered\">\n        <thead>\n\n          <tr>\n            <th>ID</th>\n            <th>Nome</th>\n            <th>Telefone</th>\n            <th>Produto</th>\n            <th>Previsão de entrega</th>\n            <th>Status Atual</th>\n            <th>Ações</th>\n          </tr>\n\n        </thead>\n\n        <tbody>\n          <tr v-for=\"services of ordersServices\" :key=\"services.id\">\n\n            <td>{{ services.id }}</td>\n            <td>{{ services.client_name }}</td>\n            <td>{{ services.phone }}</td>\n            <td>{{ services.product }}</td>\n            <td>{{ services.birth }}</td>\n            <td>Em andamento</td>\n            <td>\n             \n              <button class=\"waves-effect btn-small blue darken-1\" @click=\"openModal(services.id); disabled()\">Ver</button>\n              <button class=\"waves-effect btn-small red darken-1\" @click=\"deleteId(services.id)\">Deletar</button>\n            </td>\n\n          </tr>\n\n        </tbody>\n      \n      </table>\n      \n\n\n        <div class=\"container\">\n            <vc-pagination :source=\"pagination\" @navigate=\"navigate\"></vc-pagination>\n        </div>\n\n\n      <create-modal v-if=\"showModal\"  :showModal=showModal @clicked=\"onChildClick\">\n\n      </create-modal>\n\n      <modal-services v-if=\"showModalService\" :infoServices=infoServices :showModalService=showModalService @clicked=\"closeModal\">\n\n      </modal-services>\n\n  </div>\n\n</template>\n\n<script>\nimport Api from '../../services/api'\nimport VcPagination from '../../components/Pagination'\nimport CreateModal from '../../components/ModalInsert'\nimport ModalServices from '../../components/ModalServices'\n\nexport default{\n  name: 'App',\n\n  components:{\n    VcPagination,\n    CreateModal,\n    ModalServices\n  },\n  \n  data(){\n    return {\n      ordersServices: [],\n      pagination: {},\n      showModal: false,\n      showModalService: false,\n      dataServices: [],\n      infoServices: []\n    }\n  },\n\n  methods: {\n    deleteId(id){\n      Api.deleteService('http://127.0.0.1:8000/api/services/'+id).then(\n        alert('Orderm de Serviço deletada com Sucesso!')\n      )\n      Api.index().then(req => {\n        this.ordersServices = req.data.data\n        this.pagination = req.data\n      })\n    },\n\n    createOrder(){\n      this.showModal = true;\n    },\n\n    disabled(){\n      function disableInputs(){\n        const inputs = document.getElementsByClassName('validate');\n        for (var i = 0; i < inputs.length; i++) { \n        inputs[i].disabled = true;\n        } \n      }\n      setTimeout(disableInputs, 1500)\n    },\n\n    openModal(id){\n      Api.getId('http://127.0.0.1:8000/api/services/'+id).then( req =>{\n        this.showModalService = true\n        this.infoServices = req.data.data\n      })\n    },\n\n    closeModal(){\n      this.showModalService = false\n    },\n\n    onChildClick () {\n      this.showModal = false;\n    },\n\n    navigate (page) {\n      Api.paginate('http://127.0.0.1:8000/api/services?page='+page).then( resp => {\n        this.ordersServices = resp.data.data\n        this.pagination = resp.data\n      })\n    },\n\n    logout(){\n      localStorage.removeItem('user-token')\n      window.location.href = 'http://localhost:8080/'\n    }\n  },\n\n  mounted(){\n    Api.index().then(req => {\n      this.ordersServices = req.data.data\n      this.pagination = req.data\n    })\n  }\n\n}\n</script>\n\n<style>\n  .container{\n    display: flex;\n    justify-content: center;\n  }\n  nav{\n    height: auto !important;\n  }\n  .brand{\n    margin: 0 auto;\n    margin-left: 0;\n  }\n  .brand, .actions{\n    margin-bottom: 2%;\n  }\n  .actions button{\n    margin-left: 20px !important;\n  }\n</style>\n"]}]}