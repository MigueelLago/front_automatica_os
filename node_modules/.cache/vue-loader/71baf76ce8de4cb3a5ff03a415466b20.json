{"remainingRequest":"/Users/migueellago/Projetos/automatic-os/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/migueellago/Projetos/automatic-os/src/components/Pagination.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/migueellago/Projetos/automatic-os/src/components/Pagination.vue","mtime":1599428259000},{"path":"/Users/migueellago/Projetos/automatic-os/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/migueellago/Projetos/automatic-os/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/migueellago/Projetos/automatic-os/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/migueellago/Projetos/automatic-os/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IFsnc291cmNlJ10sCiAgCiAgZGF0YSgpewogICAgcmV0dXJuIHsKICAgICAgcGFnZXM6IFtdCiAgICB9CiAgfSwKCiAgbWV0aG9kczogewogICAgbmF2aWdhdGUgKGV2LCBwYWdlKXsKICAgICAgZXYucHJldmVudERlZmF1bHQoKQogICAgICB0aGlzLiRlbWl0KCduYXZpZ2F0ZScsIHBhZ2UpCiAgICB9LAoKICAgIGdlbmVyYXRlUGFnZXNBcnJheTogZnVuY3Rpb24oY3VycmVudFBhZ2UsIGNvbGxlY3Rpb25MZW5ndGgsIHJvd3NQZXJQYWdlLCBwYWdpbmF0aW9uUmFuZ2UpewogICAgICAgIHZhciBwYWdlcyA9IFtdOwogICAgICAgIHZhciB0b3RhbFBhZ2VzID0gTWF0aC5jZWlsKGNvbGxlY3Rpb25MZW5ndGggLyByb3dzUGVyUGFnZSk7CiAgICAgICAgdmFyIGhhbGZXYXkgPSBNYXRoLmNlaWwocGFnaW5hdGlvblJhbmdlIC8gMik7CiAgICAgICAgdmFyIHBvc2l0aW9uOwoKICAgICAgICBpZiAoY3VycmVudFBhZ2UgPD0gaGFsZldheSkgewogICAgICAgICAgICBwb3NpdGlvbiA9ICdzdGFydCc7CiAgICAgICAgfSBlbHNlIGlmICh0b3RhbFBhZ2VzIC0gaGFsZldheSA8IGN1cnJlbnRQYWdlKSB7CiAgICAgICAgICAgIHBvc2l0aW9uID0gJ2VuZCc7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcG9zaXRpb24gPSAnbWlkZGxlJzsKICAgICAgICB9CgogICAgICAgIHZhciBlbGxpcHNlc05lZWRlZCA9IHBhZ2luYXRpb25SYW5nZSA8IHRvdGFsUGFnZXM7CiAgICAgICAgdmFyIGkgPSAxOwogICAgICAgIHdoaWxlIChpIDw9IHRvdGFsUGFnZXMgJiYgaSA8PSBwYWdpbmF0aW9uUmFuZ2UpIHsKICAgICAgICAgICAgdmFyIHBhZ2VOdW1iZXIgPSB0aGlzLmNhbGN1bGF0ZVBhZ2VOdW1iZXIoaSwgY3VycmVudFBhZ2UsIHBhZ2luYXRpb25SYW5nZSwgdG90YWxQYWdlcyk7CiAgICAgICAgICAgIHZhciBvcGVuaW5nRWxsaXBzZXNOZWVkZWQgPSAoaSA9PT0gMiAmJiAocG9zaXRpb24gPT09ICdtaWRkbGUnIHx8IHBvc2l0aW9uID09PSAnZW5kJykpOwogICAgICAgICAgICB2YXIgY2xvc2luZ0VsbGlwc2VzTmVlZGVkID0gKGkgPT09IHBhZ2luYXRpb25SYW5nZSAtIDEgJiYgKHBvc2l0aW9uID09PSAnbWlkZGxlJyB8fCBwb3NpdGlvbiA9PT0gJ3N0YXJ0JykpOwogICAgICAgICAgICBpZiAoZWxsaXBzZXNOZWVkZWQgJiYgKG9wZW5pbmdFbGxpcHNlc05lZWRlZCB8fCBjbG9zaW5nRWxsaXBzZXNOZWVkZWQpKSB7CiAgICAgICAgICAgICAgICBwYWdlcy5wdXNoKCcuLi4nKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHBhZ2VzLnB1c2gocGFnZU51bWJlcik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaSArKzsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHBhZ2VzOwogICAgfSwKCiAgICBjYWxjdWxhdGVQYWdlTnVtYmVyOiBmdW5jdGlvbihpLCBjdXJyZW50UGFnZSwgcGFnaW5hdGlvblJhbmdlLCB0b3RhbFBhZ2VzKXsKICAgICAgICAgIHZhciBoYWxmV2F5ID0gTWF0aC5jZWlsKHBhZ2luYXRpb25SYW5nZS8yKTsKICAgICAgICAgIGlmIChpID09PSBwYWdpbmF0aW9uUmFuZ2UpIHsKICAgICAgICAgICAgICByZXR1cm4gdG90YWxQYWdlczsKICAgICAgICAgIH0gZWxzZSBpZiAoaSA9PT0gMSkgewogICAgICAgICAgICAgIHJldHVybiBpOwogICAgICAgICAgfSBlbHNlIGlmIChwYWdpbmF0aW9uUmFuZ2UgPCB0b3RhbFBhZ2VzKSB7CiAgICAgICAgICAgICAgaWYgKHRvdGFsUGFnZXMgLSBoYWxmV2F5IDwgY3VycmVudFBhZ2UpIHsKICAgICAgICAgICAgICByZXR1cm4gdG90YWxQYWdlcyAtIHBhZ2luYXRpb25SYW5nZSArIGk7CiAgICAgICAgICB9IGVsc2UgaWYgKGhhbGZXYXkgPCBjdXJyZW50UGFnZSkgewogICAgICAgICAgICAgIHJldHVybiBjdXJyZW50UGFnZSAtIGhhbGZXYXkgKyBpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICByZXR1cm4gaTsKICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgcmV0dXJuIGk7CiAgICAgICAgICB9CiAgICB9LAoKCiAgICBuZXh0UGFnZSAoZXYsIHBhZ2UpewogICAgICBpZihwYWdlID09IDAgfHwgcGFnZSA9PSB0aGlzLnNvdXJjZS5sYXN0X3BhZ2UrMSl7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGV2LnByZXZlbnREZWZhdWx0KCkKICAgICAgdGhpcy4kZW1pdCgnbmF2aWdhdGUnLCBwYWdlKQogICAgfQogIH0sCgogIHdhdGNoOnsKICAgIHNvdXJjZSgpewogICAgICBsZXQgcyA9IHRoaXMuc291cmNlCiAgICAgIHRoaXMucGFnZXMgPSB0aGlzLmdlbmVyYXRlUGFnZXNBcnJheShzLmN1cnJlbnRfcGFnZSwgcy50b3RhbCwgcy5wZXJfcGFnZSwgMTApCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["Pagination.vue"],"names":[],"mappings":";;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Pagination.vue","sourceRoot":"src/components","sourcesContent":["<script>\n\nexport default {\n  props: ['source'],\n  \n  data(){\n    return {\n      pages: []\n    }\n  },\n\n  methods: {\n    navigate (ev, page){\n      ev.preventDefault()\n      this.$emit('navigate', page)\n    },\n\n    generatePagesArray: function(currentPage, collectionLength, rowsPerPage, paginationRange){\n        var pages = [];\n        var totalPages = Math.ceil(collectionLength / rowsPerPage);\n        var halfWay = Math.ceil(paginationRange / 2);\n        var position;\n\n        if (currentPage <= halfWay) {\n            position = 'start';\n        } else if (totalPages - halfWay < currentPage) {\n            position = 'end';\n        } else {\n            position = 'middle';\n        }\n\n        var ellipsesNeeded = paginationRange < totalPages;\n        var i = 1;\n        while (i <= totalPages && i <= paginationRange) {\n            var pageNumber = this.calculatePageNumber(i, currentPage, paginationRange, totalPages);\n            var openingEllipsesNeeded = (i === 2 && (position === 'middle' || position === 'end'));\n            var closingEllipsesNeeded = (i === paginationRange - 1 && (position === 'middle' || position === 'start'));\n            if (ellipsesNeeded && (openingEllipsesNeeded || closingEllipsesNeeded)) {\n                pages.push('...');\n            } else {\n                pages.push(pageNumber);\n            }\n            i ++;\n        }\n        return pages;\n    },\n\n    calculatePageNumber: function(i, currentPage, paginationRange, totalPages){\n          var halfWay = Math.ceil(paginationRange/2);\n          if (i === paginationRange) {\n              return totalPages;\n          } else if (i === 1) {\n              return i;\n          } else if (paginationRange < totalPages) {\n              if (totalPages - halfWay < currentPage) {\n              return totalPages - paginationRange + i;\n          } else if (halfWay < currentPage) {\n              return currentPage - halfWay + i;\n          } else {\n              return i;\n          }\n          } else {\n              return i;\n          }\n    },\n\n\n    nextPage (ev, page){\n      if(page == 0 || page == this.source.last_page+1){\n        return;\n      }\n      ev.preventDefault()\n      this.$emit('navigate', page)\n    }\n  },\n\n  watch:{\n    source(){\n      let s = this.source\n      this.pages = this.generatePagesArray(s.current_page, s.total, s.per_page, 10)\n    }\n  }\n}\n</script>\n\n<template>\n\n    <ul class=\"pagination\">\n\n      <li :class=\"{ disabled: source.current_page == 1 }\">\n        <a href=\"#!\" @click=\"nextPage($event, source.current_page-1)\">Anterior</a>\n      </li>\n\n      <li v-for=\"page in pages\" track-by=\"$index\" :key=\"page.current_page\" :class=\"{ active: source.current_page == page }\">\n        \n        <span v-if=\"page == '...'\">{{ page }}</span>  \n        <a href=\"#!\" v-if=\"page != '...'\" @click=\"navigate($event, page)\">{{ page }}</a>\n      \n      </li>\n\n      <li :class=\"{ disabled: source.current_page == source.last_page }\">\n        <a href=\"#!\" @click=\"nextPage($event, source.current_page+1)\">Pr√≥ximo</a>\n      </li>\n\n    </ul>\n\n</template>\n"]}]}