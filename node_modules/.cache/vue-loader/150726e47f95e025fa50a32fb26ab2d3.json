{"remainingRequest":"/Users/migueellago/Projetos/automatic-os/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/migueellago/Projetos/automatic-os/src/pages/home/HomeComponent.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/Users/migueellago/Projetos/automatic-os/src/pages/home/HomeComponent.vue","mtime":1608392990000},{"path":"/Users/migueellago/Projetos/automatic-os/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/migueellago/Projetos/automatic-os/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/migueellago/Projetos/automatic-os/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/migueellago/Projetos/automatic-os/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/migueellago/Projetos/automatic-os/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouY29udGFpbmVyewogIGRpc3BsYXk6IGZsZXg7CiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7Cn0KbmF2ewogIGhlaWdodDogYXV0byAhaW1wb3J0YW50Owp9Ci5icmFuZHsKICBtYXJnaW46IDAgYXV0bzsKICBtYXJnaW4tbGVmdDogMDsKfQouYnJhbmQsIC5hY3Rpb25zewogIG1hcmdpbi1ib3R0b206IDIlOwp9Ci5hY3Rpb25zIGJ1dHRvbnsKICBtYXJnaW4tbGVmdDogMjBweCAhaW1wb3J0YW50Owp9Cg=="},{"version":3,"sources":["HomeComponent.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"HomeComponent.vue","sourceRoot":"src/pages/home","sourcesContent":["<template>\n  <div>\n\n    <nav class=\"nav-wrapper blue darken-1\">\n      <div class=\"container\">\n      <div class=\"brand\">\n        <a href=\"#\" class=\"brand-logo left\">Automatic OS</a>\n      </div>\n      <div class=\"actions\">\n        <button class=\"waves-effect btn-small green darken-1\" @click=\"createOrder()\">Criar nova O.S</button>\n        <button class=\"waves-effect btn-small red darken-1\" @click=\"logout()\">Sair</button>\n      </div>\n      </div>\n    </nav>\n\n\n      <table class=\"centered\">\n        <thead>\n\n          <tr>\n            <th>ID</th>\n            <th>Nome</th>\n            <th>Telefone</th>\n            <th>Produto</th>\n            <th>Previsão de entrega</th>\n            <th>Status Atual</th>\n            <th>Ações</th>\n          </tr>\n\n        </thead>\n\n        <tbody>\n          <tr v-for=\"services of ordersServices\" :key=\"services.id\">\n\n            <td>{{ services.id }}</td>\n            <td>{{ services.client_name }}</td>\n            <td>{{ services.phone }}</td>\n            <td>{{ services.product }}</td>\n            <td>{{ services.birth }}</td>\n            <td>Em andamento</td>\n            <td>\n             \n              <button class=\"waves-effect btn-small blue darken-1\" @click=\"openModal(services.id); disabled()\">Ver</button>\n              <button class=\"waves-effect btn-small red darken-1\" @click=\"deleteId(services.id)\">Deletar</button>\n            </td>\n\n          </tr>\n\n        </tbody>\n      \n      </table>\n      \n\n\n        <div class=\"container\">\n            <vc-pagination :source=\"pagination\" @navigate=\"navigate\"></vc-pagination>\n        </div>\n\n\n      <create-modal v-if=\"showModal\"  :showModal=showModal @clicked=\"onChildClick\">\n\n      </create-modal>\n\n      <modal-services v-if=\"showModalService\" :infoServices=infoServices :showModalService=showModalService @clicked=\"closeModal\">\n\n      </modal-services>\n\n  </div>\n\n</template>\n\n<script>\nimport Api from '../../services/api'\nimport VcPagination from '../../components/Pagination'\nimport CreateModal from '../../components/ModalInsert'\nimport ModalServices from '../../components/ModalServices'\n\nexport default{\n  name: 'App',\n\n  components:{\n    VcPagination,\n    CreateModal,\n    ModalServices\n  },\n  \n  data(){\n    return {\n      ordersServices: [],\n      pagination: {},\n      showModal: false,\n      showModalService: false,\n      dataServices: [],\n      infoServices: []\n    }\n  },\n\n  methods: {\n    deleteId(id){\n      Api.deleteService('http://127.0.0.1:8000/api/services/'+id).then(\n        alert('Orderm de Serviço deletada com Sucesso!')\n      )\n      Api.index().then(req => {\n        this.ordersServices = req.data.data\n        this.pagination = req.data\n      })\n    },\n\n    createOrder(){\n      this.showModal = true;\n    },\n\n    disabled(){\n      function disableInputs(){\n        const inputs = document.getElementsByClassName('validate');\n        for (var i = 0; i < inputs.length; i++) { \n        inputs[i].disabled = true;\n        } \n      }\n      setTimeout(disableInputs, 1500)\n    },\n\n    openModal(id){\n      Api.getId('http://127.0.0.1:8000/api/services/'+id).then( req =>{\n        this.showModalService = true\n        this.infoServices = req.data.data\n      })\n    },\n\n    closeModal(){\n      this.showModalService = false\n    },\n\n    onChildClick () {\n      this.showModal = false;\n    },\n\n    navigate (page) {\n      Api.paginate('http://127.0.0.1:8000/api/services?page='+page).then( resp => {\n        this.ordersServices = resp.data.data\n        this.pagination = resp.data\n      })\n    },\n\n    logout(){\n      localStorage.removeItem('user-token')\n      window.location.href = 'http://localhost:8080/'\n    }\n  },\n\n  mounted(){\n    Api.index().then(req => {\n      this.ordersServices = req.data.data\n      this.pagination = req.data\n    })\n  }\n\n}\n</script>\n\n<style>\n  .container{\n    display: flex;\n    justify-content: center;\n  }\n  nav{\n    height: auto !important;\n  }\n  .brand{\n    margin: 0 auto;\n    margin-left: 0;\n  }\n  .brand, .actions{\n    margin-bottom: 2%;\n  }\n  .actions button{\n    margin-left: 20px !important;\n  }\n</style>\n"]}]}