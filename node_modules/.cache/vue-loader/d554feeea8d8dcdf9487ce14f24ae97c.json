{"remainingRequest":"/Users/migueellago/Projetos/automatic-os/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/migueellago/Projetos/automatic-os/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/migueellago/Projetos/automatic-os/src/App.vue","mtime":1600532647000},{"path":"/Users/migueellago/Projetos/automatic-os/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/migueellago/Projetos/automatic-os/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/migueellago/Projetos/automatic-os/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/migueellago/Projetos/automatic-os/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBBcGkgZnJvbSAnLi9zZXJ2aWNlcy9hcGknCmltcG9ydCBWY1BhZ2luYXRpb24gZnJvbSAnLi9jb21wb25lbnRzL1BhZ2luYXRpb24nCmltcG9ydCBDcmVhdGVNb2RhbCBmcm9tICcuL2NvbXBvbmVudHMvTW9kYWxJbnNlcnQnCmltcG9ydCBNb2RhbFNlcnZpY2VzIGZyb20gJy4vY29tcG9uZW50cy9Nb2RhbFNlcnZpY2VzJwoKZXhwb3J0IGRlZmF1bHR7CiAgbmFtZTogJ0FwcCcsCgogIGNvbXBvbmVudHM6ewogICAgVmNQYWdpbmF0aW9uLAogICAgQ3JlYXRlTW9kYWwsCiAgICBNb2RhbFNlcnZpY2VzCiAgfSwKICAKICBkYXRhKCl7CiAgICByZXR1cm4gewogICAgICBvcmRlcnNTZXJ2aWNlczogW10sCiAgICAgIHBhZ2luYXRpb246IHt9LAogICAgICBzaG93TW9kYWw6IGZhbHNlLAogICAgICBzaG93TW9kYWxTZXJ2aWNlOiBmYWxzZSwKICAgICAgZGF0YVNlcnZpY2VzOiBbXSwKICAgICAgaW5mb1NlcnZpY2VzOiBbXQogICAgfQogIH0sCgogIG1ldGhvZHM6IHsKICAgIGRlbGV0ZUlkKGlkKXsKICAgICAgQXBpLmRlbGV0ZVNlcnZpY2UoJ2h0dHA6Ly8xMjcuMC4wLjE6ODAwMC9hcGkvc2VydmljZXMvJytpZCkudGhlbigKICAgICAgICBhbGVydCgnT3JkZXJtIGRlIFNlcnZpw6dvIGRlbGV0YWRhIGNvbSBTdWNlc3NvIScpCiAgICAgICkKICAgICAgQXBpLmluZGV4KCkudGhlbihyZXEgPT4gewogICAgICAgIHRoaXMub3JkZXJzU2VydmljZXMgPSByZXEuZGF0YS5kYXRhCiAgICAgICAgdGhpcy5wYWdpbmF0aW9uID0gcmVxLmRhdGEKICAgICAgfSkKICAgIH0sCgogICAgY3JlYXRlT3JkZXIoKXsKICAgICAgdGhpcy5zaG93TW9kYWwgPSB0cnVlOwogICAgfSwKCiAgICBkaXNhYmxlZCgpewogICAgICBmdW5jdGlvbiBkaXNhYmxlSW5wdXRzKCl7CiAgICAgICAgY29uc3QgaW5wdXRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgndmFsaWRhdGUnKTsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGlucHV0cy5sZW5ndGg7IGkrKykgeyAKICAgICAgICBpbnB1dHNbaV0uZGlzYWJsZWQgPSB0cnVlOwogICAgICAgIH0gCiAgICAgIH0KICAgICAgc2V0VGltZW91dChkaXNhYmxlSW5wdXRzLCAxNTAwKQogICAgfSwKCiAgICBvcGVuTW9kYWwoaWQpewogICAgICBBcGkuZ2V0SWQoJ2h0dHA6Ly8xMjcuMC4wLjE6ODAwMC9hcGkvc2VydmljZXMvJytpZCkudGhlbiggcmVxID0+ewogICAgICAgIHRoaXMuc2hvd01vZGFsU2VydmljZSA9IHRydWUKICAgICAgICB0aGlzLmluZm9TZXJ2aWNlcyA9IHJlcS5kYXRhLmRhdGEKICAgICAgfSkKICAgIH0sCgogICAgY2xvc2VNb2RhbCgpewogICAgICB0aGlzLnNob3dNb2RhbFNlcnZpY2UgPSBmYWxzZQogICAgfSwKCiAgICBvbkNoaWxkQ2xpY2sgKCkgewogICAgICB0aGlzLnNob3dNb2RhbCA9IGZhbHNlOwogICAgfSwKCiAgICBuYXZpZ2F0ZSAocGFnZSkgewogICAgICBBcGkucGFnaW5hdGUoJ2h0dHA6Ly8xMjcuMC4wLjE6ODAwMC9hcGkvc2VydmljZXM/cGFnZT0nK3BhZ2UpLnRoZW4oIHJlc3AgPT4gewogICAgICAgIHRoaXMub3JkZXJzU2VydmljZXMgPSByZXNwLmRhdGEuZGF0YQogICAgICAgIHRoaXMucGFnaW5hdGlvbiA9IHJlc3AuZGF0YQogICAgICB9KQogICAgfQogIH0sCgogIG1vdW50ZWQoKXsKICAgIEFwaS5pbmRleCgpLnRoZW4ocmVxID0+IHsKICAgICAgdGhpcy5vcmRlcnNTZXJ2aWNlcyA9IHJlcS5kYXRhLmRhdGEKICAgICAgdGhpcy5wYWdpbmF0aW9uID0gcmVxLmRhdGEKICAgIH0pCiAgfQoKfQo="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n  <div id=\"app\">\n\n    <nav class=\"nav-wrapper blue darken-1\">\n      <div class=\"container\">\n      <div class=\"brand\">\n        <a href=\"#\" class=\"brand-logo left\">Automatic OS</a>\n      </div>\n      <div class=\"actions\">\n        <button class=\"waves-effect btn-small green darken-1\" @click=\"createOrder()\">Criar nova O.S</button>\n      </div>\n      </div>\n    </nav>\n\n\n      <table class=\"centered\">\n        <thead>\n\n          <tr>\n            <th>ID</th>\n            <th>Nome</th>\n            <th>Telefone</th>\n            <th>Produto</th>\n            <th>Previsão de entrega</th>\n            <th>Status Atual</th>\n            <th>Ações</th>\n          </tr>\n\n        </thead>\n\n        <tbody>\n          <tr v-for=\"services of ordersServices\" :key=\"services.id\">\n\n            <td>{{ services.id }}</td>\n            <td>{{ services.client_name }}</td>\n            <td>{{ services.phone }}</td>\n            <td>{{ services.product }}</td>\n            <td>{{ services.birth }}</td>\n            <td>Em andamento</td>\n            <td>\n             \n              <button class=\"waves-effect btn-small blue darken-1\" @click=\"openModal(services.id); disabled()\">Ver</button>\n              <button class=\"waves-effect btn-small red darken-1\" @click=\"deleteId(services.id)\">Deletar</button>\n            </td>\n\n          </tr>\n\n        </tbody>\n      \n      </table>\n      \n\n\n        <div class=\"container\">\n            <vc-pagination :source=\"pagination\" @navigate=\"navigate\"></vc-pagination>\n        </div>\n\n\n      <create-modal v-if=\"showModal\"  :showModal=showModal @clicked=\"onChildClick\">\n\n      </create-modal>\n\n      <modal-services v-if=\"showModalService\" :infoServices=infoServices :showModalService=showModalService @clicked=\"closeModal\">\n\n      </modal-services>\n\n    </div>\n\n</template>\n\n<script>\nimport Api from './services/api'\nimport VcPagination from './components/Pagination'\nimport CreateModal from './components/ModalInsert'\nimport ModalServices from './components/ModalServices'\n\nexport default{\n  name: 'App',\n\n  components:{\n    VcPagination,\n    CreateModal,\n    ModalServices\n  },\n  \n  data(){\n    return {\n      ordersServices: [],\n      pagination: {},\n      showModal: false,\n      showModalService: false,\n      dataServices: [],\n      infoServices: []\n    }\n  },\n\n  methods: {\n    deleteId(id){\n      Api.deleteService('http://127.0.0.1:8000/api/services/'+id).then(\n        alert('Orderm de Serviço deletada com Sucesso!')\n      )\n      Api.index().then(req => {\n        this.ordersServices = req.data.data\n        this.pagination = req.data\n      })\n    },\n\n    createOrder(){\n      this.showModal = true;\n    },\n\n    disabled(){\n      function disableInputs(){\n        const inputs = document.getElementsByClassName('validate');\n        for (var i = 0; i < inputs.length; i++) { \n        inputs[i].disabled = true;\n        } \n      }\n      setTimeout(disableInputs, 1500)\n    },\n\n    openModal(id){\n      Api.getId('http://127.0.0.1:8000/api/services/'+id).then( req =>{\n        this.showModalService = true\n        this.infoServices = req.data.data\n      })\n    },\n\n    closeModal(){\n      this.showModalService = false\n    },\n\n    onChildClick () {\n      this.showModal = false;\n    },\n\n    navigate (page) {\n      Api.paginate('http://127.0.0.1:8000/api/services?page='+page).then( resp => {\n        this.ordersServices = resp.data.data\n        this.pagination = resp.data\n      })\n    }\n  },\n\n  mounted(){\n    Api.index().then(req => {\n      this.ordersServices = req.data.data\n      this.pagination = req.data\n    })\n  }\n\n}\n</script>\n\n<style>\n  .container{\n    display: flex;\n    justify-content: center;\n  }\n  nav{\n    height: auto !important;\n  }\n  .brand{\n    margin: 0 auto;\n    margin-left: 0;\n  }\n  .brand, .actions{\n    margin-bottom: 2%;\n  }\n</style>\n"]}]}